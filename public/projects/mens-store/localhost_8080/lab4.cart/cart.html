<!DOCTYPE html>
<html lang="en">
<!-- Mirrored from localhost:8080/lab4.cart/cart by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 22 Aug 2025 17:54:28 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=ISO-8859-1" /><!-- /Added by HTTrack -->
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shopping Cart</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');
    body { font-family: 'Montserrat', sans-serif; margin: 0; padding: 0; color: white; background: rgba(0, 0, 0, 0.7); }
    video { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); min-width: 100%; min-height: 100%; z-index: -1; object-fit: cover; }
    .container { max-width: 960px; margin: 3rem auto; padding: 1.5rem; background: rgba(255,255,255,0.92); border-radius: 12px; color: #111; box-shadow: 0 4px 8px rgba(0,0,0,0.2); }
    h1 { margin-top: 0; }
    table { width: 100%; border-collapse: collapse; margin-top: 16px; background: white; }
    th, td { padding: 12px; text-align: center; border-bottom: 1px solid #e5e7eb; }
    th { background-color: #007bff; color: white; }
    td img { width: 64px; height: 64px; object-fit: cover; border-radius: 6px; }
    .qty-btn { border: 1px solid #d1d5db; background: #f9fafb; padding: 4px 10px; border-radius: 6px; cursor: pointer; }
    .qty-btn:hover { background: #eef2f7; }
    .remove { color: #ef4444; cursor: pointer; }
    .summary { text-align: right; margin-top: 18px; font-size: 1.05rem; }
    nav { margin-top: 20px; text-align: center; }
    nav a, .btn { display: inline-block; padding: 10px 14px; background: #007bff; color: white; border-radius: 5px; text-decoration: none; margin: 10px; font-size: 1rem; transition: 0.2s; }
    nav a:hover, .btn:hover { background: #0056b3; }
    .muted { color: #6b7280; }
  </style>
</head>
<body>
  <video autoplay loop muted>
    <source src="https://videos.pexels.com/video-files/9564697/9564697-uhd_2732_1440_25fps.mp4" type="video/mp4" />
  </video>

  <div class="container">
    <h1>Shopping Cart</h1>

    <div id="empty" class="muted">Your cart is empty.</div>

    <table id="cartTable" style="display:none;">
      <thead>
        <tr>
          <th>Item</th>
          <th>Product</th>
          <th>Price</th>
          <th>Qty</th>
          <th>Total</th>
          <th></th>
        </tr>
      </thead>
      <tbody id="cartBody"></tbody>
    </table>

    <div id="summary" class="summary" style="display:none;">
      <p><strong>Subtotal:</strong> <span id="subtotal">CAD $0.00</span></p>
      <p><strong>Tax (13%):</strong> <span id="tax">CAD $0.00</span></p>
      <p><strong>Shipping:</strong> <span id="shipping">CAD $0.00</span></p>
      <p><strong>Total:</strong> <span id="total">CAD $0.00</span></p>
      <button id="clearCart" class="btn" type="button">Clear cart</button>
    </div>

    <nav>
      <a href="../lab4.frontend/home.html">Home</a>
      <a href="../products.html">Browse Products</a>
      <a href="cart.html">View Cart</a>
    </nav>
  </div>

  <script>
    (function () {
      // Product catalog used for rendering (keeps image links exactly as in products page)
      var CATALOG = {
        "1": { name: "Elegant Suit", price: 299.99, img: "https://images.unsplash.com/photo-1619533394727-57d522857f89?q=80&w=1287" },
        "2": { name: "Luxury Watch", price: 199.99, img: "https://5.imimg.com/data5/ECOM/Default/2024/7/437244781/VC/HB/II/124918422/omepi-512-500x500.webp" },
        "3": { name: "Leather Backpack", price: 149.99, img: "../media.istockphoto.com/id/963128010/photo/istockphoto-963128010-612x6127671.jpg?s=612x612&w=0&k=20&c=zQt2E3GU7QG87MSJxxmSnh6DYk4KXZih8PvU6n6AH6Q=" },
        "4": { name: "Wireless Earbuds", price: 99.99, img: "https://images.unsplash.com/photo-1570993492903-ba4c3088f100?q=80&w=1170&auto=format&fit=crop" },
        "5": { name: "Dress Shoes", price: 89.99, img: "../images.pexels.com/photos/298864/pexels-photo-298864.jpg" }
      };

      var $body = document.getElementById('cartBody');
      var $table = document.getElementById('cartTable');
      var $summary = document.getElementById('summary');
      var $empty = document.getElementById('empty');
      var $subtotal = document.getElementById('subtotal');
      var $tax = document.getElementById('tax');
      var $shipping = document.getElementById('shipping');
      var $total = document.getElementById('total');
      var $clear = document.getElementById('clearCart');

      function money(n) { return 'CAD $' + (Math.round(n * 100) / 100).toFixed(2); }

      function getCart() {
        try { return JSON.parse(sessionStorage.getItem('cart') || '{}'); }
        catch (_) { return {}; }
      }
      function setCart(cart) {
        sessionStorage.setItem('cart', JSON.stringify(cart));
      }

      function render() {
        var cart = getCart();
        var ids = Object.keys(cart).filter(function (id) { return cart[id] > 0 && CATALOG[id]; });

        if (ids.length === 0) {
          $empty.style.display = '';
          $table.style.display = 'none';
          $summary.style.display = 'none';
          return;
        }

        $empty.style.display = 'none';
        $table.style.display = '';
        $summary.style.display = '';

        // rows
        $body.innerHTML = '';
        var subtotal = 0;
        ids.forEach(function (id) {
          var p = CATALOG[id];
          var qty = cart[id];
          var line = p.price * qty;
          subtotal += line;

          var tr = document.createElement('tr');
          tr.innerHTML =
            '<td><img src="' + p.img + '" alt="' + p.name + '"/></td>' +
            '<td>' + p.name + '</td>' +
            '<td>' + money(p.price) + '</td>' +
            '<td>' +
              '<button class="qty-btn dec" data-id="' + id + '">âˆ’</button> ' +
              '<strong>' + qty + '</strong> ' +
              '<button class="qty-btn inc" data-id="' + id + '">+</button>' +
            '</td>' +
            '<td>' + money(line) + '</td>' +
            '<td><span class="remove" data-id="' + id + '">Remove</span></td>';
          $body.appendChild(tr);
        });

        var tax = subtotal * 0.13;
        var shipping = 0.00;
        var total = subtotal + tax + shipping;

        $subtotal.textContent = money(subtotal);
        $tax.textContent = money(tax);
        $shipping.textContent = money(shipping);
        $total.textContent = money(total);
      }

      // plus/minus/remove handlers
      $body.addEventListener('click', function (e) {
        var t = e.target;
        var id = t.getAttribute('data-id');
        if (!id) return;
        var cart = getCart();

        if (t.classList.contains('inc')) {
          cart[id] = (cart[id] || 0) + 1;
        } else if (t.classList.contains('dec')) {
          cart[id] = Math.max(0, (cart[id] || 0) - 1);
          if (cart[id] === 0) delete cart[id];
        } else if (t.classList.contains('remove')) {
          delete cart[id];
        } else {
          return;
        }
        setCart(cart);
        render();
      });

      $clear.addEventListener('click', function () {
        sessionStorage.removeItem('cart');
        render();
      });

      render();
    })();
  </script>
</body>
<!-- Mirrored from localhost:8080/lab4.cart/cart by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 22 Aug 2025 17:54:28 GMT -->
</html>
